<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>äº§å“ä¸­å¿ƒ - é—½æ™¨çŸ³ææœ‰é™å…¬å¸</title>
<link href="./css/tailwind.min.css" rel="stylesheet"/>
<link href="test_images/logo.png" rel="icon" type="image/png"/>
<style>
    html { scroll-behavior: smooth; }
    .main-title {
  white-space: nowrap;
      font-size: 2.2rem; font-weight: 900; letter-spacing: 0.08em;
      background: linear-gradient(90deg, #4f8cff 0%, #a084ee 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-shadow: 0 4px 16px rgba(80, 120, 255, 0.12);
      border-radius: 10px; padding: 4px 16px;
      transition: box-shadow 0.3s; box-shadow: 0 2px 12px rgba(80, 120, 255, 0.08);
    }
    .main-title:hover { box-shadow: 0 4px 32px rgba(80, 120, 255, 0.18); }
    .section-title {
      font-size: 2rem; font-weight: 800; letter-spacing: 0.06em; color: #4f8cff;
      text-shadow: 0 2px 8px rgba(80, 120, 255, 0.10); margin-bottom: 0.5em;
    }
    .nav-btn {
      display: inline-block; padding: 0.5rem 1.2rem; margin: 0 0.2rem;
      font-weight: 600; font-size: 1rem; color: #4f8cff; background: #fff;
      border: 2px solid; border-image: linear-gradient(90deg, #4f8cff 0%, #a084ee 100%);
      border-image-slice: 1; 
      /* ç§»é™¤åœ†è§’ */
      border-radius: 0;
      box-shadow: 0 2px 8px rgba(80, 120, 255, 0.06);
      transition: all 0.25s; position: relative; overflow: hidden;
    }
    .nav-btn:hover, .nav-btn.active {
      color: #fff; background: linear-gradient(90deg, #4f8cff 0%, #a084ee 100%);
      /* ç»Ÿä¸€é˜´å½±æ•ˆæœ */
      box-shadow: 0 6px 20px rgba(80, 120, 255, 0.25); 
      border-color: transparent;
    }
    .category-btn {
      min-width: 120px; text-align: center; margin-bottom: 0.5rem;
      display: inline-flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 1.08rem; color: #4f8cff; background: #fff;
      border: 2px solid #a084ee; border-radius: 2rem;
      box-shadow: 0 2px 12px rgba(80, 120, 255, 0.08);
      transition: all 0.22s; cursor: pointer; position: relative; overflow: hidden;
      padding: 0.6rem 1.5rem 0.6rem 1.2rem; margin-right: 0.5rem; margin-left: 0.5rem; margin-top: 0.2rem; margin-bottom: 0.2rem; letter-spacing: 0.04em;
    }
    .category-btn.selected, .category-btn:hover {
      background: linear-gradient(90deg, #4f8cff 0%, #a084ee 100%);
      color: #fff; border-color: #4f8cff;
      box-shadow: 0 4px 18px rgba(80, 120, 255, 0.18);
      transform: translateY(-2px) scale(1.04);
    }
    .category-btn .cat-icon {
      font-size: 1.2em; margin-right: 0.5em; opacity: 0.7;
    }
    .product-card {
      cursor: pointer; transition: box-shadow 0.2s, transform 0.2s;
      background: #fff; box-shadow: 0 2px 12px rgba(80,120,255,0.08);
      border-radius: 1rem; overflow: hidden;
    }
    .product-card:hover {
      box-shadow: 0 8px 32px rgba(80,120,255,0.18);
      transform: translateY(-4px) scale(1.03);
    }
    .modal-bg { position: fixed; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.45); z-index:1000; display:flex; align-items:center; justify-content:center; }
    .modal-content { background: #fff; border-radius: 1.2rem; max-width: 95vw; max-height: 90vh; overflow-y: auto; box-shadow: 0 8px 32px rgba(80,120,255,0.18); padding: 2rem; position: relative; }
    .modal-close { position: absolute; right: 1.2rem; top: 1.2rem; font-size: 2rem; color: #888; cursor: pointer; transition: color 0.2s; }
    .modal-close:hover { color: #4f8cff; }
    @media (max-width: 900px) {
      .nav-btn, .category-btn { margin: 0.2rem 0.1rem; font-size: 0.98rem; padding: 0.45rem 1rem; }
    }
    @media (max-width: 600px) {
      .main-title {
  white-space: nowrap; font-size: 1.4rem; padding: 2px 8px; }
      .section-title { font-size: 1.1rem; }
      .nav-btn, .category-btn { font-size: 0.92rem; padding: 0.38rem 0.7rem; }
      .modal-content { padding: 1rem; }
    }
  </style>
<script>
    if (window.location.hash === "#contact") {
      history.replaceState(null, '', window.location.pathname + window.location.search);
      window.scrollTo(0, 0);
    }
  </script>
</head>
<body class="bg-gray-50 text-gray-800">
<header class="bg-white shadow sticky top-0 z-50">
<div class="container mx-auto px-4 py-4"><div class="flex flex-col md:flex-row md:justify-between md:items-center space-y-3 md:space-y-0">
<div class="flex items-center space-x-3">
<img alt="é—½æ™¨çŸ³ælogo" class="h-10 w-auto" src="site_images/logo.jpg"/>
<h1 class="main-title">äº§å“ä¸­å¿ƒ</h1>
</div>
<nav class="w-full flex flex-wrap justify-center gap-2 mt-4 md:mt-0 md:justify-end">
<a class="nav-btn" href="index.html">é¦–é¡µ</a>
<a class="nav-btn active" href="products.html">äº§å“ä¸­å¿ƒ</a>
<a class="nav-btn" href="finished.html">æˆå“å±•ç¤º</a>
<a class="nav-btn" href="cases.html">å·¥ç¨‹æ¡ˆä¾‹</a>
<a class="nav-btn" href="news.html">æ–°é—»èµ„è®¯</a>
<a class="nav-btn" href="about.html">å…³äºæˆ‘ä»¬</a>
<a class="nav-btn" href="contact.html">è”ç³»æˆ‘ä»¬</a>
</nav>
</div>
</div>
</header>
<div class="py-12 px-4 max-w-6xl mx-auto">
<!-- åˆ†ç±»å¯¼èˆª -->
<div class="flex flex-wrap justify-center gap-4 mb-12" id="categoryNav"></div>
<!-- äº§å“å†…å®¹åŒº -->
<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6" id="productList"></div>
<!-- äº§å“è¯¦æƒ…å¼¹çª— -->
<div id="productModal" style="display:none;"></div>
<!-- åˆ†ç±»å’Œäº§å“æ•°æ®ã€äº¤äº’è„šæœ¬ -->
<script>
    // åˆ†ç±»ä¸äº§å“æ•°æ®
    const categories = [
      { key: 'aluhoney', name: 'é“èœ‚çªçŸ³æå¤åˆæ¿', icon: 'ğŸŸ¦' },
      { key: 'shimiaofh', name: 'çŸ³æé¥°é¢ä¿æ¸©å¤åˆæ¿', icon: 'ğŸŸª' },
      { key: 'fangshi', name: 'ä»¿çŸ³é¥°é¢ä¿æ¸©å¤åˆæ¿', icon: 'ğŸŸ«' },
      { key: 'huagangyan', name: 'èŠ±å²—å²©', icon: 'ğŸª¨' },
      { key: 'xian', name: 'çº¿æ¡', icon: 'â–' },
      { key: 'shuidao', name: 'æ°´åˆ€æ‹¼èŠ±', icon: 'ğŸŒ¸' },
      { key: 'beijingqiang', name: 'èƒŒæ™¯å¢™', icon: 'ğŸ–¼ï¸' },
      { key: 'daban', name: 'å¤§æ¿ç±»', icon: 'ğŸ“' },
      { key: 'video', name: 'äº§å“è§†é¢‘', icon: 'ğŸ¬' },
    ];

    // æ¸²æŸ“åˆ†ç±»å¯¼èˆª
    const nav = document.getElementById('categoryNav');
    let selectedCat = categories[0].key;
    function renderNav() {
      nav.innerHTML = '';
      categories.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'category-btn' + (selectedCat===cat.key?' selected':'');
        btn.innerHTML = `<span class='cat-icon'>${cat.icon||''}</span>${cat.name}`;
        btn.onclick = () => { selectedCat=cat.key; renderNav(); loadProducts(); };
        nav.appendChild(btn);
      });
    }

    // åŠ è½½äº§å“åˆ—è¡¨
    const list = document.getElementById('productList');
    function loadProducts() {
      list.innerHTML = '';
      if(selectedCat === "video") {
        // ä»åå°è·å–è§†é¢‘åˆ—è¡¨
        fetch(`admin/get_images.php?category=products&subCategory=video`)
          .then(response => response.json())
          .then(data => {
            if (data.success && data.images.length > 0) {
              data.images.forEach((video, index) => {
                const card = document.createElement('div');
                card.className = 'bg-white shadow rounded-lg overflow-hidden transform transition duration-300 product-card';
                // ç§»é™¤è·¯å¾„ä¸­çš„ '../' å‰ç¼€
                const videoPath = video.path.replace('../', '');
                card.innerHTML = `
                  <video class='w-full aspect-video' controls poster='site_images/video_cover${index+1}.jpg'>
                    <source src='${videoPath}' type='video/mp4'>
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                  </video>
                  <div class='p-4'>
                    <h4 class='text-lg font-semibold text-gray-800'>${video.title || 'äº§å“è§†é¢‘'}</h4>
                    <p class='text-sm text-gray-600 mt-1 border-t pt-2'>${video.description || 'äº§å“å±•ç¤ºè§†é¢‘'}</p>
                  </div>`;
                list.appendChild(card);
              });
            } else {
              list.innerHTML = '<div class="col-span-full text-center text-gray-500">æš‚æ— è§†é¢‘</div>';
            }
          })
          .catch(error => {
            console.error('Error:', error);
            list.innerHTML = '<div class="col-span-full text-center text-gray-500">åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•</div>';
          });
        return;
      }

      // ä»åå°è·å–äº§å“å›¾ç‰‡
      fetch(`admin/get_images.php?category=products&subCategory=${selectedCat}`)
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            data.images.forEach((image, index) => {
              const card = document.createElement('div');
              card.className = 'bg-white shadow rounded-lg overflow-hidden transform transition duration-300 product-card';
              // ç§»é™¤è·¯å¾„ä¸­çš„ '../' å‰ç¼€
              const imagePath = image.path.replace('../', '');
              card.innerHTML = `
                <img src="${imagePath}" class="w-full h-48 object-cover" alt="${categories.find(c => c.key === selectedCat).name}">
                <div class="p-4">
                  <h4 class="text-lg font-semibold text-gray-800">${categories.find(c => c.key === selectedCat).name}</h4>
                </div>`;
              card.onclick = () => showBigImg(imagePath);
              list.appendChild(card);
            });
          } else {
            list.innerHTML = '<div class="col-span-full text-center text-gray-500">æš‚æ— å›¾ç‰‡</div>';
          }
        })
        .catch(error => {
          console.error('Error:', error);
          list.innerHTML = '<div class="col-span-full text-center text-gray-500">åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•</div>';
        });
    }

    // äº§å“è¯¦æƒ…å¼¹çª—
    const modal = document.getElementById('productModal');
    function showBigImg(img) {
      modal.style.display = 'flex';
      modal.innerHTML = `<div class='modal-bg' style='z-index:2000;' onclick='modal.style.display="none"'><img src='${img}' style='max-width:90vw;max-height:90vh;display:block;margin:auto;border-radius:1rem;box-shadow:0 8px 32px #888;'></div>`;
    }

    // åˆå§‹åŒ–
    renderNav();
    loadProducts();
    </script>
<div class="row" id="imageContainer">
    <!-- å›¾ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
</div>
</div>
<footer class="bg-white py-6 border-t mt-8">
<div class="text-center text-sm text-gray-500">
      Â© 2025 ç¦å»ºæ³‰å·å¸‚é—½æ™¨çŸ³ææœ‰é™å…¬å¸ ç‰ˆæƒæ‰€æœ‰
    </div>
</footer>
<script>
    // åŠ è½½å›¾ç‰‡
    function loadImages() {
        fetch('/admin/get_images.php?category=products')
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    const container = document.getElementById('imageContainer');
                    // ä¸å†æ¸…ç©ºç°æœ‰å†…å®¹
                    
                    data.images.forEach(image => {
                        // æ£€æŸ¥å›¾ç‰‡æ˜¯å¦å·²ç»å­˜åœ¨
                        const existingImage = document.querySelector(`img[src="${image.path}"]`);
                        if (!existingImage) {
                            const col = document.createElement('div');
                            col.className = 'col-md-4 product-item';
                            
                            const img = document.createElement('img');
                            img.src = image.path;
                            img.alt = 'äº§å“å±•ç¤º';
                            img.className = 'product-image';
                            img.onclick = function() {
                                showBigImg(image.path);
                            };
                            
                            col.appendChild(img);
                            container.appendChild(col);
                        }
                    });
                }
            })
            .catch(error => console.error('Error:', error));
    }

    // é¡µé¢åŠ è½½æ—¶åŠ è½½å›¾ç‰‡
    document.addEventListener('DOMContentLoaded', loadImages);
</script>
</body>
</html>
